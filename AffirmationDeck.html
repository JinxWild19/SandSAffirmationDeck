<!DOCTYPE html>
<html lang="en">
<head>
  <title>Affirmation Deck</title>
  <style>
    body {
      text-align: center;
      margin-top: 50px;
    }

    #deckContainer {
      position: relative;
      width: 320px;
      height: 320px;
      margin: 0 auto;
      display: inline-block;
    }

    #affirmationContainer {
      display: inline-block;
      width: 320px;
      height: 320px;
      position: relative;
      margin-left: 50px; /* Space between deck and affirmation card */
      vertical-align: top;
    }

    .card {
      position: absolute;
      width: 240px;
      height: 300px;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.6s, filter 0.3s;
    }

    .card.blur {
      filter: blur(5px); /* Blur effect during shuffle */
      transform: translateY(-10px) rotate(5deg); /* Slight movement */
    }

    .affirmation-card {
      position: absolute;
      width: 240px;
      height: 300px;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.6s;
      transform: rotateY(90deg); /* Start hidden */
    }
  </style>
</head>
<body>
  <!-- Card Deck -->
  <div id="deckContainer">
    <img class="card" id="card1" src="https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/6776cb0cce41a62a087eeb70.jpeg" alt="Card Back" style="z-index: 3;">
    <img class="card" id="card2" src="https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/6776cb0cce41a62a087eeb70.jpeg" alt="Card Back" style="z-index: 2;">
    <img class="card" id="card3" src="https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/6776cb0cce41a62a087eeb70.jpeg" alt="Card Back" style="z-index: 1;">
  </div>

  <!-- Affirmation Display -->
  <div id="affirmationContainer">
    <img class="affirmation-card" id="affirmationImage" src="" alt="Affirmation Card">
  </div>

  <script>
    // Affirmations with corresponding images
    const affirmations = [
      { text: "04", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deb0a11f998bbe8f6d.jpeg" },
      { text: "05", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deed46eb8558fb6b29.jpeg" },
      { text: "06", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deed46eb8001fb6b27.jpeg" },
      { text: "07", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deb0a11f603dbe8f6f.jpeg" },
      { text: "08", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de37a11daed3fb90c6.jpeg" },
      { text: "09", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731dee00427a2ac19687b.jpeg" },
      { text: "10", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deb0a11f25c1be8f70.jpeg" },
      { text: "11", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de6e3c74a880172d80.jpeg" },
      { text: "12", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de6e3c746f0f172d83.jpeg" },
      { text: "13", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded4ebc4329bc58030.jpeg" },
      { text: "14", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deb0a11f50f9be8f72.jpeg" },
      { text: "15", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de6e3c74b282172d82.jpeg" },
      { text: "16", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731dee00427aedf19687a.jpeg" },
      { text: "17", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded64d3df790870bc5.jpeg" },
      { text: "18", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded1a7b4ba570f63dd.jpeg" },
      { text: "19", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded4ebc462f0c5802f.jpeg" },
      { text: "20", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de6e3c7468e1172d81.jpeg" },
      { text: "21", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deed46eb78aafb6b2b.jpeg" },
      { text: "22", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de37a11d7fb0fb90c9.jpeg" },
      { text: "23", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de10dd0d12398dfdc4.jpeg" },
      { text: "24", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deb0a11f19fcbe8f73.jpeg" },
      { text: "25", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de10dd0d22838dfdc3.jpeg" },
      { text: "26", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded1a7b468c20f63dc.jpeg" },
      { text: "27", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de37a11d7fb0fb90c9.jpeg" },
      { text: "28", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deed46eb4f32fb6b2c.jpeg" },
      { text: "29", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deed46eb67b9fb6b2a.jpeg" },
      { text: "30", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731dece41a6de087f6a57.jpeg" },
      { text: "31", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deb0a11f8e3dbe8f71.jpeg" },
      { text: "32", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731dece41a6ed1f7f6a58.jpeg" },
      { text: "33", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de6e3c746b31172d84.jpeg" },
      { text: "34", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de10dd0d32cd8dfdc5.jpeg" },
      { text: "35", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded64d3d92a0870bbd.jpeg" },
      { text: "36", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded64d3d18e4870bbe.jpeg" },
      { text: "37", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deed46eb2a03fb6b24.jpeg" },
      { text: "38", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded1a7b418060f63d8.jpeg" },
      { text: "39", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deed46eb8525fb6b25.jpeg" },
      { text: "40", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded64d3d23a7870bc1.jpeg" },
      { text: "41", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded64d3dcd93870bc0.jpeg" },
      { text: "42", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deed46eb7599fb6b26.jpeg" },
      { text: "43", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de37a11d3335fb90c3.jpeg" },
      { text: "44", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de37a11d188cfb90c4.jpeg" },
      { text: "45", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de6e3c745713172d7e.jpeg" },
      { text: "46", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deb0a11f569abe8f6e.jpeg" },
      { text: "47", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de6e3c740e0f172d7c.jpeg" },
      { text: "48", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded4ebc42063c58029.jpeg" },
      { text: "49", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731dee00427f79b196877.jpeg" },
      { text: "50", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded4ebc46c63c5802b.jpeg" },
      { text: "51", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de37a11d7f51fb90c5.jpeg" },
      { text: "52", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded64d3d6b39870bc2.jpeg" },
      { text: "53", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded4ebc4021cc5802a.jpeg" },
      { text: "54", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deed46eb7d8afb6b28.jpeg" },
      { text: "55", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded64d3d7837870bc3.jpeg" },
      { text: "56", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded4ebc4cca9c5802c.jpeg" },
      { text: "57", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de6e3c7426b7172d7f.jpeg" },
      { text: "58", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de10dd0d056b8dfdc2.jpeg" },
      { text: "59", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded1a7b43c450f63d9.jpeg" },
      { text: "60", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de37a11d7613fb90c8.jpeg" },
      { text: "61", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731dee004279787196878.jpeg" },
      { text: "62", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded1a7b471fc0f63db.jpeg" },
      { text: "63", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de37a11d367afb90c7.jpeg" },
      { text: "64", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731dece41a643f77f6a56.jpeg" },
      { text: "65", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded1a7b40a260f63da.jpeg" },
      { text: "66", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded64d3d2e11870bc4.jpeg" },
      { text: "67", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731dee004273e12196879.jpeg" },
      { text: "68", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731dece41a6ed797f6a55.jpeg" },
      { text: "69", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731ded4ebc418adc5802e.jpeg" },
      { text: "70", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deed46eb2762fb6b2d.jpeg" },
      { text: "71", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731dece41a6a6937f6a54.jpeg" },
      { text: "72", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deed46eb8715fb6b23.jpeg" },
      { text: "73", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731deed46eb8715fb6b23.jpeg" },
      { text: "74", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de37a11d2cd5fb90c2.jpeg" },
      { text: "75", image: "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/677731de6e3c744f68172d7d.jpeg" },
    ];

    const cardBackImage = "https://storage.googleapis.com/msgsndr/a8CSYCDLm5yulVfnNvhS/media/6776cb0cce41a62a087eeb70.jpeg"; // Card back image
    let currentCardIndex = 0;
    let isShuffling = false;

    // Shuffle deck using Fisher-Yates Algorithm
    function shuffleDeck(deck) {
      for (let i = deck.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [deck[i], deck[j]] = [deck[j], deck[i]];
      }
    }

    // Visual Shuffle Animation
    function shuffleAnimation(cards, callback) {
      const shuffleDuration = 1500; // 1.5 seconds
      let count = 0;

      const interval = setInterval(() => {
        count++;

        // Toggle blur effect for shuffle animation
        cards.forEach((card) => {
          card.classList.toggle('blur'); // Add/remove blur class
        });

        if (count >= shuffleDuration / 100) { // Stop shuffle
          clearInterval(interval);

          // Remove blur effect after shuffling
          cards.forEach((card) => card.classList.remove('blur'));

          callback(); // Proceed to flip animation
        }
      }, 100); // Update every 100ms
    }

    // Display Affirmation with Flip and Slide Animation
    function displayAffirmation() {
      const card = affirmations[currentCardIndex];
      const mainCard = document.getElementById("card1"); // Top card
      const affirmationImage = document.getElementById("affirmationImage");

      // Flip the deck card
      mainCard.style.transform = "rotateY(90deg)";
      setTimeout(() => {
        // Update affirmation
        affirmationImage.src = card.image;
        affirmationImage.alt = card.text; // Set alt text dynamically

        // Flip affirmation card into view and slide to the right
        affirmationImage.style.transform = "rotateY(0deg)";
      }, 300); // Halfway through the flip animation
    }

    // Initialize Deck
    function initializeDeck() {
      shuffleDeck(affirmations); // Shuffle affirmations initially

      const cards = [
        document.getElementById("card1"),
        document.getElementById("card2"),
        document.getElementById("card3")
      ];

      const deckContainer = document.getElementById("deckContainer");

      deckContainer.addEventListener("click", () => {
        if (isShuffling) return;

        isShuffling = true;

        shuffleAnimation(cards, () => {
          isShuffling = false;

          currentCardIndex = (currentCardIndex + 1) % affirmations.length;
          displayAffirmation();
        });
      });
    }

    initializeDeck();
  </script>
</body>
</html>
